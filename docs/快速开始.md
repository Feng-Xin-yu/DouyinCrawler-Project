# 快速开始指南

本指南帮助你快速上手使用 DouyinCrawler，假设你已经完成了环境配置。

## 前置准备

### 1. 配置账号信息

在 `config/accounts_cookies.xlsx` 中配置抖音账号的Cookies。

**Excel格式：**
- 第一列：账号名称
- 第二列：Cookies（字符串格式）

### 2. 配置爬取参数

编辑 `config/base_config.py`，设置爬取类型和关键词：

```python
# 爬取类型：search / detail / creator / homefeed
CRAWLER_TYPE = "creator"

# 数据存储方式：csv / json
SAVE_DATA_OPTION = "csv"
```

## 使用示例

### 1. 关键词搜索

```bash
python main.py --type search --keywords "Python,爬虫"
```

### 2. 视频详情

在 `config/base_config.py` 中配置视频ID列表：
```python
DY_SPECIFIED_ID_LIST = ["视频ID1", "视频ID2"]
```

然后运行：
```bash
python main.py --type detail
```

### 3. 创作者主页

在 `config/base_config.py` 中配置创作者ID列表：
```python
DY_CREATOR_ID_LIST = ["创作者ID1", "创作者ID2"]
```

然后运行：
```bash
python main.py --type creator
```

### 4. 首页推荐

```bash
python main.py --type homefeed
```

## 数据存储位置

### CSV存储（默认）

数据保存在 `data/douyin/` 目录下：
- `*_search_contents_*.csv` - 视频数据
- `*_search_comments_*.csv` - 评论数据

### JSON存储

在 `config/base_config.py` 中设置：
```python
SAVE_DATA_OPTION = "json"
```

数据保存在 `data/douyin/json/` 目录下。

## 常见问题

### 1. 签名生成失败
- 检查是否已安装 PyExecJS：`pip install PyExecJS==1.5.1`
- 检查是否已安装 Node.js
- 查看日志中的详细错误信息

### 2. 账号失效
- 检查Cookies是否过期
- 尝试更换账号
- 检查账号是否被封禁

### 3. 数据未保存
- 检查存储配置（SAVE_DATA_OPTION）
- 检查文件权限
- 查看日志中的错误信息

### 4. 爬取失败
- 检查网络连接
- 检查账号状态
- 查看日志中的详细错误信息
- 尝试降低并发数（MAX_CONCURRENCY_NUM）
